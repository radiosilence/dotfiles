#!/usr/bin/env fish

echo "[upd] updating ~/.dotfiles..."
cd ~/.dotfiles
git pull
./install
cd -

if using mise
    echo "[upd] updating mise..."
    mise up
    rm -rf ~/.local/share/mise/shims
    mise reshim
end

if using yt-dlp
    echo "[upd] updating yt-dlp..."
    yt-dlp --update-to nightly
end

if using apt
    echo "[upd] updating apt..."
    sudo apt update
    sudo apt upgrade -y
    sudo apt autoremove -y
end

if using dnf
    echo "[upd] updating dnf..."
    sudo dnf update -y
end

if using brew
    echo "[upd] updating brew..."
    brew bundle
    brew upgrade
    brew cu -af
    brew cleanup
    brew doctor
end
