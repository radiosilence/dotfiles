#!/bin/sh
set -eu

cd "$(mktemp -d)"
printf '%s\n' "$@" | parallel -j "$(nproc)" '
    echo "downloading {}"
    mkdir -p {#}
    aria2c -x 16 -s 16 {} -d {#} -o font.zip
    cd {#}
    unzip font.zip
    find . -type f \( -name "*.otf" -o -name "*.ttf" \) -exec cp -v \{\} ~/Library/Fonts \;
'
