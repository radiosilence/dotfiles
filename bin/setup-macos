#!/bin/sh

set -e

DIRNAME=$(DIRNAME "$0")

echo "basename: [$(basename "$0")]"
echo "dir : [$DIRNAME]"
echo "pwd     : [$(pwd)]"

using() {
    command -v "$1" >/dev/null 2>&1
}

export PATH="$DIRNAME:$PATH"

if using brew; then
    /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
fi

install-font "https://github.com/gaplo917/Ligatured-Hack/releases/download/v3.003%2BNv2.1.0%2BFC%2BJBMv2.242/HackLigatured-v3.003+FC3.1+JBMv2.242.zip"
install-font "https://github.com/vercel/geist-font/releases/download/1.3.0/Geist-1.3.0.zip"
install-font "https://github.com/vercel/geist-font/releases/download/1.3.0/GeistMono-1.3.0.zip"

upd

"$DIRNAME/../install"

if command -v rustup >/dev/null 2>&1; then
    rustup default stable
fi
