[tools]

[tasks.reinstall-bins]
description = "Build and install rust binaries from crates/"
run = '''
#!/usr/bin/env bash
set -euo pipefail
if ! command -v cargo >/dev/null 2>&1; then
    printf "\033[31m  !! cargo not found\033[0m\n"
    exit 1
fi
printf "\033[33m  -> building rust binaries...\033[0m\n"
cargo install --path "{{config_root}}/crates" --bins --root "{{config_root}}"
printf "\033[32m  ok binaries -> ~/.dotfiles/bin\033[0m\n"
'''
